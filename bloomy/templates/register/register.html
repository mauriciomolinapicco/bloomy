<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cadastro</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/flowbite/1.4.7/flowbite.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Alexandria:wght@100..900&display=swap');
        body {
            font-family: "Alexandria", sans-serif;
        }
    </style>
    
</head>
{% load widget_tweaks %}
<body class="bg-pink-600">

    <div class="relative overflow-hidden  flex justify-center items-center ">
        <div class="absolute hidden lg:block -right-16 -top-40 bg-red-500 w-72 h-72 rounded-full"></div>
        <div class="absolute hidden lg:block -left-16 -bottom-100 bg-yellow-400 w-72 h-72 rounded-full"></div>

        <form action="" method="POST" class="p-6 rounded-lg max-w-md w-full">
            {% csrf_token %}

            <img src="../../../static/logo-login (1).webp" alt="bloomy logo"> 
            <div class="container mx-auto">
                {% if messages %}
                    {% for message in messages %}
                        <div class="my-4 p-4 rounded-lg 
                            {% if message.tags == 'success' %} bg-green-300 border border-green-400 text-green-700 
                            {% elif message.tags == 'error' %} bg-red-300 border border-red-400 text-red-700 
                            {% elif message.tags == 'warning' %} bg-yellow-300 border border-yellow-400 text-yellow-700 
                            {% elif message.tags == 'info' %} bg-blue-300 border border-blue-400 text-blue-700 
                            {% else %} bg-gray-100 border border-gray-400 text-gray-700 
                            {% endif %}">
                            {{ message }}
                        </div>
                    {% endfor %}
                {% endif %}
            </div>
                    <br> <br>
            <h3 class="text-center white text-xl text-white mb-4">Bem vindo a Bloomy</h3>

            <div class="mb-4">
                {% render_field form.username placeholder=form.username.label class+="bg-transparent bg-transparent border border-yellow-400 rounded-full px-4 py-2 w-full text-yellow-400 placeholder-yellow-400 focus:outline-none focus:border-yellow-600" %}
            </div>
            
            <div class="mb-4">
                {% render_field form.email placeholder=form.email.label class+="bg-transparent border border-yellow-400 rounded-full px-4 py-2 w-full text-yellow-400 placeholder-yellow-400 focus:outline-none focus:border-yellow-600" %}
            </div>
            
            <div class="mb-4">
                {% render_field form.password1 placeholder="Senha" class+="bg-transparent border border-yellow-400 rounded-full px-4 py-2 w-full text-yellow-400 placeholder-yellow-400 focus:outline-none focus:border-yellow-600" %}
            </div>
            
            <div class="mb-4">
                {% render_field form.password2 placeholder="Confirmar senha" class+="bg-transparent border border-yellow-400 rounded-full px-4 py-2 w-full text-yellow-400 placeholder-yellow-400 focus:outline-none focus:border-yellow-600" %}
            </div>
            
            <div class="mb-4">
                {% render_field form.company_name placeholder="Nome da empresa" class+="bg-transparent border border-yellow-400 rounded-full px-4 py-2 w-full text-yellow-400 placeholder-yellow-400 focus:outline-none focus:border-yellow-600" %}
            </div>
            
            <div class="mb-4">
                {% render_field form.responsible_person placeholder="Nome da pessoa responsavel" class+="bg-transparent border border-yellow-400 rounded-full px-4 py-2 w-full text-yellow-400 placeholder-yellow-400 focus:outline-none focus:border-yellow-600" %}
            </div>
            
            <div class="mb-4">
                {% render_field form.CNPJ placeholder="CNPJ" class+="bg-transparent border border-yellow-400 rounded-full px-4 py-2 w-full text-yellow-400 placeholder-yellow-400 focus:outline-none focus:border-yellow-600" %}
            </div>
            
            <div class="mb-4">
                {% render_field form.phone_number placeholder="Telefone" class+="bg-transparent border border-yellow-400 rounded-full px-4 py-2 w-full text-yellow-400 placeholder-yellow-400 focus:outline-none focus:border-yellow-600" %}
            </div>
            
            <div class="mb-4 mt-6">
                <label id="file-label" for="register-file" class="w-full bg-transparent border border-yellow-400 rounded-full px-4 py-2 w-full text-yellow-300 placeholder-yellow-400 focus:outline-none focus:border-yellow-600">
                    Upload de seus arquivos de marca
                </label>
                {% render_field form.userFiles placeholder="Arquivos" id="register-file" class+="bg-transparent hidden border border-yellow-400 rounded-full px-4 py-2 w-full text-yellow-400 focus:outline-none focus:border-yellow-600" %}
            </div>
            
            <div class="mt-8 mb-4 flex justify-center">
                <input type="submit" value="Cadastre-se" class="bg-yellow-500 center hover:bg-yellow-400 text-white font-bold py-2 px-4 rounded-full cursor-pointer focus:outline-none">
            </div>
            
            
            <a href="{% url 'login' %}" class="text-center text-yellow-400 hover:text-yellow-600 block">Ja tem uma conta?</a>
        </form>
        
    </div>
    </div>
</body>
<script>
    document.getElementById('register-file').addEventListener('change', function() {
        var label = document.getElementById('file-label');
        if (this.files.length > 0) {
            let fileName = this.files[0].name; 
            if (fileName.length > 20) {
                 fileName = fileName.substring(0, 20)
            }
            label.textContent = 'Arquivo selecionado: ' + fileName + '...';
        } else {
            label.textContent = 'Upload de seus arquivos de marca';
        }
    });
</script>
</html>